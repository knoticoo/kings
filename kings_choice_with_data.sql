PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE players (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	is_current_mvp BOOLEAN NOT NULL, 
	mvp_count INTEGER NOT NULL, 
	created_at DATETIME, 
	updated_at DATETIME, is_excluded BOOLEAN DEFAULT 0 NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (name)
);
INSERT INTO players VALUES(1,'Julija',0,1,'2025-08-27 22:51:03.181883','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(2,'Torradan',0,1,'2025-08-28 09:09:56.386472','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(3,'Szlachcic Kubus',0,1,'2025-08-28 09:10:24.971167','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(4,'Kinga',0,1,'2025-08-28 09:10:33.218890','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(5,'Heliodora',0,0,'2025-08-28 09:10:47.037030','2025-09-05 18:40:31.896893',1);
INSERT INTO players VALUES(6,'Hacata',0,0,'2025-08-28 09:11:00.062081','2025-09-05 18:40:31.896893',1);
INSERT INTO players VALUES(7,'Lucky',0,0,'2025-08-28 09:11:07.244623','2025-09-05 18:40:31.896893',1);
INSERT INTO players VALUES(8,'Пустое имя',0,0,'2025-08-28 09:11:22.910813','2025-09-05 18:40:31.896893',1);
INSERT INTO players VALUES(9,'Mika',0,0,'2025-08-28 09:11:32.583256','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(10,'Noble Clara',0,1,'2025-08-28 09:11:45.503156','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(12,'Nicolai',0,1,'2025-08-28 09:12:01.285281','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(13,'Yadinijas Arja',0,0,'2025-08-28 09:12:22.652382','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(14,'Millie',1,1,'2025-08-28 09:12:30.325563','2025-09-05 18:40:31.900507',0);
INSERT INTO players VALUES(16,'Henri',0,0,'2025-08-28 09:12:45.333860','2025-09-05 18:40:31.896893',1);
INSERT INTO players VALUES(17,'Charles',0,0,'2025-08-28 09:12:52.292978','2025-09-05 18:40:31.896893',0);
INSERT INTO players VALUES(18,'Knotico',0,1,'2025-08-29 21:40:15.330106','2025-09-05 18:40:31.896893',0);
CREATE TABLE alliances (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	is_current_winner BOOLEAN NOT NULL, 
	win_count INTEGER NOT NULL, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (name)
);
INSERT INTO alliances VALUES(1,'AGE',0,0,'2025-08-28 09:06:17.930387','2025-09-04 08:45:12.588841');
INSERT INTO alliances VALUES(4,'SOR',0,0,'2025-08-28 09:15:30.143619','2025-09-04 08:45:12.588841');
INSERT INTO alliances VALUES(5,'LAS',0,0,'2025-09-04 08:44:54.698021','2025-09-04 08:45:12.588841');
INSERT INTO alliances VALUES(6,'LHD',1,1,'2025-09-04 08:45:03.940411','2025-09-04 08:45:12.592025');
CREATE TABLE events (
	id INTEGER NOT NULL, 
	name VARCHAR(200) NOT NULL, 
	description TEXT, 
	event_date DATETIME NOT NULL, 
	has_mvp BOOLEAN NOT NULL, 
	has_winner BOOLEAN NOT NULL, 
	created_at DATETIME, 
	PRIMARY KEY (id)
);
INSERT INTO events VALUES(1,'Нежить',NULL,'2025-08-28 12:12:00.000000',1,0,'2025-08-28 09:13:04.223710');
INSERT INTO events VALUES(2,'Нежить меж-сервер',NULL,'2025-08-28 12:13:00.000000',1,0,'2025-08-28 09:13:16.532454');
INSERT INTO events VALUES(3,'Шахматы',NULL,'2025-08-28 12:13:00.000000',1,1,'2025-08-28 09:13:25.198395');
INSERT INTO events VALUES(4,'Шахматы меж-сервер',NULL,'2025-08-28 12:13:00.000000',0,1,'2025-08-28 09:13:35.629318');
INSERT INTO events VALUES(5,'Неизведанные воды',NULL,'2025-08-28 12:13:00.000000',1,0,'2025-08-28 09:13:55.220715');
INSERT INTO events VALUES(6,'Рост Опыта Альянса',NULL,'2025-08-29 11:29:00.000000',1,0,'2025-08-29 08:31:00.905116');
INSERT INTO events VALUES(7,'Рост Альянса',NULL,'2025-08-30 00:41:00.000000',1,0,'2025-08-29 21:41:49.320890');
INSERT INTO events VALUES(8,'Таинственный убийца',NULL,'2025-08-31 01:21:00.000000',1,0,'2025-08-30 22:21:37.496704');
INSERT INTO events VALUES(9,'Таинственный убийца меж-сервер',NULL,'2025-08-31 21:23:00.000000',1,0,'2025-08-31 18:23:21.414541');
INSERT INTO events VALUES(10,'Рост очков Альянс Арены',NULL,'2025-09-04 11:43:00.000000',0,1,'2025-09-04 08:44:06.756083');
INSERT INTO events VALUES(11,'Рост очков Альянс Арены',NULL,'2025-09-04 11:47:00.000000',1,0,'2025-09-04 08:47:55.801449');
INSERT INTO events VALUES(12,'Королевская Шахта',NULL,'2025-09-05 21:40:00.000000',1,0,'2025-09-05 18:40:14.571867');
CREATE TABLE mvp_assignments (
	id INTEGER NOT NULL, 
	player_id INTEGER NOT NULL, 
	event_id INTEGER NOT NULL, 
	assigned_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(player_id) REFERENCES players (id), 
	FOREIGN KEY(event_id) REFERENCES events (id)
);
INSERT INTO mvp_assignments VALUES(1,2,5,'2025-08-28 09:14:14.752409');
INSERT INTO mvp_assignments VALUES(2,3,1,'2025-08-28 09:14:30.959323');
INSERT INTO mvp_assignments VALUES(3,4,2,'2025-08-28 09:14:46.590984');
INSERT INTO mvp_assignments VALUES(4,10,3,'2025-08-28 09:16:59.598195');
INSERT INTO mvp_assignments VALUES(5,12,7,'2025-08-29 21:42:02.502535');
INSERT INTO mvp_assignments VALUES(6,1,8,'2025-08-30 22:21:49.613313');
INSERT INTO mvp_assignments VALUES(8,18,11,'2025-09-04 12:08:06.881845');
INSERT INTO mvp_assignments VALUES(9,14,12,'2025-09-05 18:40:31.901409');
CREATE TABLE winner_assignments (
	id INTEGER NOT NULL, 
	alliance_id INTEGER NOT NULL, 
	event_id INTEGER NOT NULL, 
	assigned_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(alliance_id) REFERENCES alliances (id), 
	FOREIGN KEY(event_id) REFERENCES events (id)
);
INSERT INTO winner_assignments VALUES(1,6,10,'2025-09-04 08:45:12.594587');
COMMIT;